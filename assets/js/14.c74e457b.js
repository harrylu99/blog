(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{588:function(e,t,a){e.exports=a.p+"assets/img/statepriority1.013bb8e5.jpg"},589:function(e,t,a){e.exports=a.p+"assets/img/statepriority2.fdccd404.jpg"},656:function(e,t,a){"use strict";a.r(t);var s=a(17),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h2",{attrs:{id:"foreword"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#foreword"}},[e._v("#")]),e._v(" Foreword")]),e._v(" "),s("p",[e._v("From the earlier ariticle of the "),s("code",[e._v("concept of React")]),e._v(", we know that "),s("code",[e._v("React")]),e._v(" implement the human computer interaction to the real "),s("code",[e._v("UI")]),e._v(". "),s("code",[e._v("user interaction")]),e._v(" cause the "),s("code",[e._v("state update")]),e._v(" and user has their expection of the "),s("code",[e._v("interation")]),e._v(" execute order. "),s("code",[e._v("React")]),e._v(" assign different "),s("code",[e._v("priority")]),e._v(" to the "),s("code",[e._v("state update")]),e._v(" based on their research. Which includings")]),e._v(" "),s("ul",[s("li",[e._v("life-cycle method, execute synchronously.")]),e._v(" "),s("li",[e._v("user input, execute synchronously.")]),e._v(" "),s("li",[e._v("interation event, animation for example, high priority.")]),e._v(" "),s("li",[e._v("other, data request for example, low priority.")])]),e._v(" "),s("h2",{attrs:{id:"how-to-schdule-priority"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#how-to-schdule-priority"}},[e._v("#")]),e._v(" How to Schdule Priority")]),e._v(" "),s("p",[e._v("From the previous section we know that "),s("code",[e._v("React")]),e._v(" use "),s("code",[e._v("Scheduler")]),e._v(" shedule the tasks.")]),e._v(" "),s("p",[e._v("Take a look with the source code, "),s("code",[e._v("React")]),e._v(" will use the method "),s("code",[e._v("runWithPriority")]),e._v(" provided by "),s("code",[e._v("Schduler")]),e._v(" everytime when the takes need schedule.")]),e._v(" "),s("p",[e._v("This method recevie a "),s("code",[e._v("priority")]),e._v(" variable and a "),s("code",[e._v("callback function")]),e._v(" a the perameters. This "),s("code",[e._v("callback function")]),e._v(" ordered by the "),s("code",[e._v("priority")]),e._v(". The "),s("code",[e._v("callback funtion")]),e._v(" usally is the enter point of the "),s("code",[e._v("render")]),e._v(". "),s("a",{attrs:{href:"https://github.com/facebook/react/blob/970fa122d8188bafa600e9b5214833487fbf1092/packages/scheduler/src/Scheduler.js#L217",target:"_blank",rel:"noopener noreferrer"}},[e._v("You can check the source code and the defination of the "),s("code",[e._v("runWithPriority")]),e._v(" from here."),s("OutboundLink")],1)]),e._v(" "),s("h2",{attrs:{id:"demo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#demo"}},[e._v("#")]),e._v(" Demo")]),e._v(" "),s("p",[s("code",[e._v("priority")]),e._v(" will presents on the "),s("code",[e._v("update.lane")]),e._v(", we only need to know this variable could identify the "),s("code",[e._v("priority")]),e._v(" of "),s("code",[e._v("Update")]),e._v(". We are going to use an example to show how priority decide the order of updates.")]),e._v(" "),s("blockquote",[s("p",[s("a",{attrs:{href:"https://twitter.com/acdlite/status/978412930973687808",target:"_blank",rel:"noopener noreferrer"}},[e._v("This example from "),s("code",[e._v("Andrew")]),e._v("'s tweet."),s("OutboundLink")],1)])]),e._v(" "),s("p",[s("img",{attrs:{src:a(588),alt:"example of the Update workflow from Andrew 1"}}),e._v(" "),s("img",{attrs:{src:a(589),alt:"example of the Update workflow from Andrew 2"}})]),e._v(" "),s("p",[e._v("There are two "),s("code",[e._v("Update")]),e._v(" om this demo, we named the "),s("code",[e._v("Update")]),e._v(" of "),s("code",[e._v("Change to light theme")]),e._v("as "),s("code",[e._v("u1")]),e._v(" and "),s("code",[e._v("Input 'i'")]),e._v(" as "),s("code",[e._v("u2")]),e._v(".")]),e._v(" "),s("p",[s("code",[e._v("u1")]),e._v(" trigger first and "),s("code",[e._v("render")]),e._v(", it is low priority which needs long execute time.")]),e._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[e._v("fiber"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("updateQueue "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("baseState")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("blackTheme")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("text")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'H'")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("firstBaseUpdate")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("lastBaseUpdate")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("null")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("shared")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("pending")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" u1\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("effects")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("null")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),s("p",[e._v("before "),s("code",[e._v("u1")]),e._v(" finish "),s("code",[e._v("render")]),e._v(", the "),s("code",[e._v("u2")]),e._v(" created by user enter the letter "),s("code",[e._v("i")]),e._v(". And this update belongs to the high priority group, which means it will interrupt the render of "),s("code",[e._v("u1")]),e._v(".")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("fiber.updateQueue.shared.pending === u2 ----\x3e u1\n                                     ^        |\n                                     |________|\n// which means\nu2.next === u1;\nu1.next === u2;\n")])])]),s("p",[s("code",[e._v("u2")]),e._v(" has higher priority compared with "),s("code",[e._v("u1")]),e._v(".")]),e._v(" "),s("p",[e._v("Followed by the "),s("code",[e._v("render")]),e._v(" of "),s("code",[e._v("u2")]),e._v(", in the "),s("code",[e._v("processUpdateQueue")]),e._v(", circle chain table "),s("code",[e._v("sared.pending")]),e._v(" will be cut and spliced after baseUpdate.")]),e._v(" "),s("p",[e._v("Then, traversal "),s("code",[e._v("baseUpdate")]),e._v(", process one of the "),s("code",[e._v("Update")]),e._v(" (which is "),s("code",[e._v("u2")]),e._v(" here).")]),e._v(" "),s("p",[e._v("Since "),s("code",[e._v("u2")]),e._v(" is not the first "),s("code",[e._v("update")]),e._v(" in the "),s("code",[e._v("baseUpdate")]),e._v(", "),s("code",[e._v("u1")]),e._v(" sikpped here. And those skipped updates will be the "),s("code",[e._v("baseUpdate")]),e._v(" for the next time update.")]),e._v(" "),s("p",[e._v("Till now, "),s("code",[e._v("u2")]),e._v(" has finsihed the procress "),s("code",[e._v("render - commit")]),e._v(".")]),e._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[e._v("fiber"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("updateQueue "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("baseState")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("blackTheme")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("text")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'HI'")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("firstBaseUpdate")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" u1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("lastBaseUpdate")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" u2\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("shared")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("pending")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("null")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("effects")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("null")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),s("p",[e._v("There is another scheduled update in the end of "),s("code",[e._v("commit")]),e._v(" stage. During this updata, another "),s("code",[e._v("render")]),e._v(" will start based on the "),s("code",[e._v("u1")]),e._v(" saved from the "),s("code",[e._v("firstBaseUpdate")]),e._v(" in "),s("code",[e._v("baseState")]),e._v(".")]),e._v(" "),s("p",[e._v("After twice "),s("code",[e._v("update")]),e._v(", the result should be looks like")]),e._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[e._v("fiber"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("updateQueue "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("baseState")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("blackTheme")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("text")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'HI'")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("firstBaseUpdate")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("lastBaseUpdate")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("null")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("shared")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("pending")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("null")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("effects")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("null")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),s("p",[e._v("As we can see that, update of "),s("code",[e._v("u2")]),e._v(" has been execute twice, same as the life cycle hooks "),s("code",[e._v("componentWillXXX")]),e._v(". That is the reason why those hooks are marked "),s("code",[e._v("unsafe_")]),e._v(".")]),e._v(" "),s("h2",{attrs:{id:"how-to-make-sure-the-state-is-right"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#how-to-make-sure-the-state-is-right"}},[e._v("#")]),e._v(" How to make sure the state is right")]),e._v(" "),s("p",[e._v("Now we know the basic workflow of the "),s("code",[e._v("updateQueue")]),e._v(", but there are some more questions includes")]),e._v(" "),s("ul",[s("li",[s("code",[e._v("render")]),e._v(" stage might be interrupted. How to make sure the "),s("code",[e._v("Update")]),e._v(" saved in "),s("code",[e._v("updateQueue")]),e._v(" not lost?")]),e._v(" "),s("li",[e._v("Sometime current "),s("code",[e._v("state")]),e._v(" need dependencies from the previous "),s("code",[e._v("state")]),e._v(". How to support ignoring "),s("code",[e._v("low priority")]),e._v(" states while ensuring continuity of state dependencies?")])]),e._v(" "),s("h3",{attrs:{id:"keep-update-not-lost"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#keep-update-not-lost"}},[e._v("#")]),e._v(" keep "),s("code",[e._v("Update")]),e._v(" not lost")]),e._v(" "),s("p",[e._v("In the previous example, we said that during the "),s("code",[e._v("render")]),e._v(" phase, the circle of "),s("code",[e._v("shared.pending")]),e._v(" is clipped and attached behind "),s("code",[e._v("updateQueue.lastBaseUpdate")]),e._v(".")]),e._v(" "),s("p",[e._v("In fact, "),s("code",[e._v("shared.pending")]),e._v(" will be connected behind both "),s("code",[e._v("workInProgress updateQueue.lastBaseUpdate")]),e._v(" and "),s("code",[e._v("current updateQueue.lastBaseUpdate")]),e._v(".")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/facebook/react/blob/970fa122d8188bafa600e9b5214833487fbf1092/packages/react-reconciler/src/ReactUpdateQueue.new.js#L424",target:"_blank",rel:"noopener noreferrer"}},[e._v("You can check the soure code here."),s("OutboundLink")],1)]),e._v(" "),s("p",[e._v("When the "),s("code",[e._v("render")]),e._v(" phase is interrupted and restarted, the "),s("code",[e._v("workInProgress updateQueue")]),e._v(" is cloned based on "),s("code",[e._v("current updateQueue")]),e._v(". it is not lost because "),s("code",[e._v("current updateQueue.lastBaseUpdate")]),e._v(" has already saved the last "),s("code",[e._v("Update")]),e._v(".")]),e._v(" "),s("p",[e._v("When the "),s("code",[e._v("commit")]),e._v(" phase finishes rendering, the "),s("code",[e._v("Update")]),e._v(" will not be lost when the "),s("code",[e._v("workInProgress Fiber tree")]),e._v(" becomes the "),s("code",[e._v("current Fiber tree")]),e._v(" because the last "),s("code",[e._v("Update")]),e._v(" is saved in "),s("code",[e._v("workInProgress updateQueue.lastBaseUpdate")]),e._v(".")]),e._v(" "),s("h3",{attrs:{id:"ensuring-continuity-of-state-dependencies"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ensuring-continuity-of-state-dependencies"}},[e._v("#")]),e._v(" ensuring continuity of state dependencies")]),e._v(" "),s("p",[e._v("When an "),s("code",[e._v("Update")]),e._v(" is skipped due to its low priority, it is not only the "),s("code",[e._v("Update")]),e._v(" that is stored in "),s("code",[e._v("baseUpdate")]),e._v(", but also all the "),s("code",[e._v("Update")]),e._v(" after it in the chain.")]),e._v(" "),s("p",[e._v("Think about this example")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("baseState: ''\nshared.pending: A1 --\x3e B2 --\x3e C1 --\x3e D2\n")])])]),s("p",[s("code",[e._v("Letters")]),e._v(" presenting the letter needs to be inserted to the page in the "),s("code",[e._v("Update")]),e._v(". Numbers standing for the priority, lower number means higher priority.")]),e._v(" "),s("p",[e._v("First time "),s("code",[e._v("render")]),e._v(", "),s("code",[e._v("priority")]),e._v(" is `")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("baseState: ''\nbaseUpdate: null\nUpdate suring the render: [A1, C1]\nmemoizedState: 'AC'\n")])])]),s("p",[e._v("Where "),s("code",[e._v("B2")]),e._v(" is lower than the current priority, so including itself and all "),s("code",[e._v("Update")]),e._v(" after it are saved in "),s("code",[e._v("baseUpdate")]),e._v(" as the next update "),s("code",[e._v("Update")]),e._v(" (i.e. B2 C1 D2).")]),e._v(" "),s("p",[e._v("This is to ensuring the order of dependencies before and after the "),s("code",[e._v("state")]),e._v(".")]),e._v(" "),s("p",[e._v("Second "),s("code",[e._v("render")]),e._v(", which "),s("code",[e._v("priority")]),e._v(" is 2")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("baseState: 'A'\nbaseUpdate: B2 --\x3e C1 --\x3e D2\nUpdate suring the render: [B2, C1, D2]\nmemoizedState: 'ABCD'\n")])])]),s("p",[e._v("Be careful of the "),s("code",[e._v("baseState")]),e._v(" here, it does not means the "),s("code",[e._v("memoizedState")]),e._v(" of last update, because "),s("code",[e._v("B2")]),e._v(" is skipped.")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/facebook/react/blob/970fa122d8188bafa600e9b5214833487fbf1092/packages/react-reconciler/src/ReactUpdateQueue.new.js#L479",target:"_blank",rel:"noopener noreferrer"}},[e._v("You can check the source code of this logic here."),s("OutboundLink")],1)]),e._v(" "),s("p",[e._v("Through the above example we can find that "),s("code",[e._v("React")]),e._v(" guarantees that the final state must be consistent with the "),s("code",[e._v("interaction")]),e._v(" triggered by the user, but the state during the process may be different according to the different devices.")])])}),[],!1,null,null,null);t.default=r.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{584:function(e,t,o){e.exports=o.p+"assets/img/hooksConcept.c896457f.png"},636:function(e,t,o){"use strict";o.r(t);var s=o(17),a=Object(s.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"title"}),s("p",[e._v("Before you start this scetion, you need to understand the basic usage of "),s("code",[e._v("Hooks")]),e._v(".")]),e._v(" "),s("p",[e._v("If you have not used "),s("code",[e._v("Hooks")]),e._v(" yet, "),s("a",{attrs:{href:"https://reactjs.org/docs/hooks-intro.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("you can start from the official documentation"),s("OutboundLink")],1),e._v(".")])]),s("p",[s("a",{attrs:{href:"https://reactjs.org/docs/hooks-intro.html#motivation",target:"_blank",rel:"noopener noreferrer"}},[e._v("You can find the motivation of "),s("code",[e._v("Hooks")]),e._v(" from here."),s("OutboundLink")],1),e._v(" As a framework user, it is enough for you to know the motivation of "),s("code",[e._v("Hooks")]),e._v(". However, for better understanding of the "),s("code",[e._v("source code architecture")]),e._v(", we will find the design motivation of "),s("code",[e._v("Hooks")]),e._v(" from the perspective of a "),s("code",[e._v("framework architecturer")]),e._v(".")]),e._v(" "),s("p",[e._v("Let's start with the logo of "),s("code",[e._v("React")]),e._v(". YOu must seem familiar with it.")]),e._v(" "),s("p",[s("img",{attrs:{src:o(584),alt:"React logo"}})]),e._v(" "),s("p",[e._v("The design of the "),s("code",[e._v("React logo")]),e._v(" is a symbol representing the "),s("code",[e._v("atom")]),e._v(". Everything in the world is made up of "),s("code",[e._v("atoms")]),e._v(", and the types and "),s("code",[e._v("properties")]),e._v(" of "),s("code",[e._v("atoms")]),e._v(" determine how things look and behave.")]),e._v(" "),s("p",[e._v("Similarly, in "),s("code",[e._v("React")]),e._v(", we can split the "),s("code",[e._v("UI")]),e._v(" into many separate units, each called a "),s("code",[e._v("Component")]),e._v(", whose "),s("code",[e._v("properties")]),e._v(" and "),s("code",[e._v("types")]),e._v(" determine how the "),s("code",[e._v("UI")]),e._v(" looks and behaves.")]),e._v(" "),s("p",[e._v("Ironically, the Greek word for "),s("code",[e._v("atom")]),e._v(" means "),s("code",[e._v("indivisible")]),e._v(", but then scientists discovered smaller particles in atoms - "),s("code",[e._v("electrons")]),e._v(". "),s("code",[e._v("Electrons")]),e._v(" can explain very well how "),s("code",[e._v("atoms")]),e._v(" work.")]),e._v(" "),s("p",[e._v("In "),s("code",[e._v("React")]),e._v(", we can say that "),s("code",[e._v("ClassComponent")]),e._v(" is a class of "),s("code",[e._v("atoms")]),e._v(".")]),e._v(" "),s("p",[e._v("But for "),s("code",[e._v("Hooks")]),e._v(", instead of being a class of "),s("code",[e._v("atoms")]),e._v(", it's more like "),s("code",[e._v("electrons")]),e._v(" that are closer to the way things work.")]),e._v(" "),s("p",[e._v("We know that "),s("code",[e._v("React")]),e._v("'s architecture follows the "),s("code",[e._v("schedule - render - commit")]),e._v(" runtime flow, and this flow is the lowest level of the React world runtime law.")]),e._v(" "),s("p",[s("code",[e._v("ClassComponent")]),e._v(", as an "),s("code",[e._v("atom")]),e._v(" of the "),s("code",[e._v("React")]),e._v(" world, its "),s("code",[e._v("lifecycle")]),e._v(" (componentWillXXX/componentDidXXX) is a higher-level abstraction implemented to intervene in "),s("code",[e._v("React")]),e._v("'s runtime flow, and this is done to make it easier for framework users to get started.")]),e._v(" "),s("p",[s("code",[e._v("Hooks")]),e._v(" are closer to the various concepts ("),s("code",[e._v("state")]),e._v(" | "),s("code",[e._v("context")]),e._v(" | "),s("code",[e._v("life-cycle")]),e._v(") of "),s("code",[e._v("React")]),e._v("'s inner workings than the higher-level abstraction of "),s("code",[e._v("ClassComponent")]),e._v(".")]),e._v(" "),s("p",[e._v("As developers using the "),s("code",[e._v("React")]),e._v(" technology stack, when we first learn "),s("code",[e._v("Hooks")]),e._v(", both the official documentation and our experienced colleagues always compare the "),s("code",[e._v("life cycle")]),e._v(" of "),s("code",[e._v("ClassComponent")]),e._v(" to the execution timing of the "),s("code",[e._v("Hooks API")]),e._v(".")]),e._v(" "),s("p",[e._v("This is certainly a good way to get started, but when we become proficient in "),s("code",[e._v("Hooks")]),e._v(", we will find that there is a lot of fragmentation between the two concepts, and they are not the same level of abstraction that can replace each other.")]),e._v(" "),s("p",[e._v("For example, some of you might think "),s("code",[e._v("useEffect")]),e._v(" could replace "),s("code",[e._v("componentWillReceiveProps")]),e._v(",")]),e._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("useEffect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=>")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'something updated'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("something"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])])]),s("p",[e._v("But in fact, "),s("code",[e._v("componentWillReceiveProps")]),e._v(" is executed in the "),s("code",[e._v("render")]),e._v(" phase, while "),s("code",[e._v("useEffect")]),e._v(" is executed asynchronously after the rendering is completed in the "),s("code",[e._v("commit")]),e._v(" phase.")]),e._v(" "),s("p",[e._v("So, it may be a better perspective to look at "),s("code",[e._v("Hooks")]),e._v(" from the point of view of source code operation laws. This is why the above article says "),s("code",[e._v("Hooks")]),e._v(" are the "),s("code",[e._v("electrons")]),e._v(" of the "),s("code",[e._v("React")]),e._v(" world rather than "),s("code",[e._v("atoms")]),e._v(".")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://www.youtube.com/watch?v=dpw9EHDh2bM&feature=youtu.be",target:"_blank",rel:"noopener noreferrer"}},[e._v("YOu can watch the React Conf 2018 here"),s("OutboundLink")],1)]),e._v(" "),s("p",[e._v("To sum up, "),s("code",[e._v("Concurrent Mode")]),e._v(" is the future of "),s("code",[e._v("React")]),e._v(", and "),s("code",[e._v("Hooks")]),e._v(" is the way to build "),s("code",[e._v("Components")]),e._v(" that maximize the potential of "),s("code",[e._v("Concurrent Mode")]),e._v(".")])])}),[],!1,null,null,null);t.default=a.exports}}]);
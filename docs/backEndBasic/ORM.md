---
title: ORM
date: 2022-03-30
---

## Foreword

`Object Relational Mapping` (ORM) pattern is a technology designed to address the mismatch between `object-oriented` and `relational databases`. Simply put, ORM is the automatic persistence of objects in an application into a relational database by using metadata that describes the mapping between objects and the database.

ORM provides a model for implementing a persistence layer that uses mapping metadata to describe the mapping of object relationships, enabling ORM middleware to act as a bridge between the `business logic layer` and the `database layer` of any application.

The ORM methodology is based on three core principles.

- `Simplicity`: modeling data in its most basic form.
- `Accessibility`: Database structures are documented in a language that anyone can understand.
- `Accuracy`: Create a properly normalized structure based on the data model.

## ORM

Let's start with O/R. The letter O originates from `Object` and letter R comes from `Relational`. In the most programs, there are `objects` and `relational databases`. In the business logic and user interface layer, we are object-oriented. When the object information changes, we need to save the object information in the relational database.

When you develop an application without using ORM, you may write a lot of data access layer code to save, delete, read object information, etc. from the database. You write a lot of methods in the Data Access Layer(DAL) to read object data, change state objects and other tasks. And this code is always written repeatedly.

The main problem solved by ORM is the `mapping of object relationships`. The domain model and the relational model are built on the basis of the conceptual model, respectively. The domain model is object-oriented, while the relational model is relationship-oriented. In general, a persistent class corresponds to a table, each instance of the class corresponds to a record in the table, and each attribute of the class corresponds to each field of the table.

ORM features:

1. Improved development efficiency. Since ORM can automatically map fields and attributes of Entity objects to Table in the database, we may actually no longer need a dedicated, large data access layer.
2. ORM provides a `mapping` to the database, without coding in SQL and is able to obtain data from the database as if it were an object.

## pros and cons

The disadvantage of ORM is that it sacrifices the efficiency of program execution and can fix the mindset.

ORM is a fully object-oriented approach, and the object-oriented approach can have some impact on performance.

When we develop systems, there are generally performance issues. Performance problems arise mainly from incorrect algorithms or incorrect use of databases. the code generated by ORM is generally unlikely to write efficient algorithms and is more likely to be misused in database applications, mainly in the extraction of persistent objects and the processing of data. If an ORM is used, the programmer is likely to extract all the data into memory objects and then filter and processing, which might cause performance problems.

When doing persistence on objects, ORMs generally persist all attributes, which, sometimes, is undesirable.

ORM is a tool, and tools do solve some repetitive, simple labor. This is undeniable. But we can't expect tools to solve all problems once and for all. Some problems still require special handling, but the parts that require special handling should be few and far between for the vast majority of systems.

